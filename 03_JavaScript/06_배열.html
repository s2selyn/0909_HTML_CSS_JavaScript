<!DOCTYPE html>
<html lang="en">
<head>
    <title>자바스크립트에서 중요한 거 두 개 배열이랑 객체랑</title>

    <style>

        .area {
            width: 500px;
            border: 1px solid lightpink;
        }

        .big {
            height: 500px;
        }

        .small {
            height: 300px;
        }

        button {
            border: 1px solid palevioletred;
            background: lightcoral;
            color: white;
            font-weight: 900;
            font-size: 19px;
            width: 150px;
            height: 60px;

            &:hover {
                background: salmon;
                cursor: pointer;
            }
        }

    </style>

</head>
<body>

    <p>
        여러 개의 값을 담기 위해 사용하는 자료형 <br />
        
        자바스크립트에서는 변수 선언 시 별도의 타입을 지정하지 않기 때문에 <br />
        배열도 const로 선언함!(딴거 없다고 생각하쇼 걍 const)
    </p>

    <!-- button#btn1+#area1.area.small -->
    <button id="btn1">버튼</button>
    <div id="area1" class="area small"></div>

    <script>

        // 버튼을 누르면 뭔가 하고싶을 때 가장 먼저 해야 할 일은 버튼에 접근
        // function을 다들 쓰고싶어하지 않음, 오타가 난다거나.. 그래서 잘 안쓰고 바꿔써보자
        // function 생략하고 소괄호 다음에 화살표(=>)로 작성 이게 익명함수, 요롷게 쓸 수 있음
        // 기능은 없고 문법만 이렇게, 성능좋아지고 이런것도 없음, 그냥 편하니꽈
        document.querySelector("#btn1").onclick = () => {

            // 배열의 선언 및 초기화(const로 선언할거라 선언하면서 초기화 해야함)
            // const array = new Object[10]; 자바로 따지면 이런 느낌
            const array = ["홍길동", 15, true, [1, 2]];
            // 여러개 담을 수 있고 자료형이 달라도 된다, 배열 안에 배열도 가능
            
            console.log(array);

            // 배열을 통째로 쓰는 경우는 별로 없죠..? 저 15만 사용하고싶다면?
            console.log(array[1]);

            // 배열 안에 있는 배열의 2만 쓰고싶다면?
            console.log(array[3][1]);
            // 이건 2차원배열이다!
            // 기본적으로 배열은 시퀀스라서, 엄밀히는 인덱스 안에 주소가 들어있다고 하는데, 속편하게 숫자가 들어있다고 가정하자
            // 배열 안의 배열은 면 형태로 인덱스가 또 0번, 1번 있는거겠지
            // 인덱스 3에 접근한다음에 그안의 1번 인덱스에 가야하는것
            // 그안에 또 배열이 들어있다면 3차원 배열이 되겠지. 그럼 그냥 또 가면되고

            // div 요소의 컨텐트 영역에 출력하고싶으면 제일 먼저 div 요소에 접근해야함
            const area = document.querySelector("#area1");

            // 이제 좀 자바스크립트 쓰는 사람들처럼 해보자
            /*
            area.innerHTML = `${array[0]} <br>`;
            area.innerHTML += `${array[1]} <br>`;
            area.innerHTML += `${array[2]} <br>`;
            area.innerHTML += `${array[3]} <br>`;
            */
            // 우리 배열 배우고 처음 한 게 반복문 쓰는거였쥬? 지금도 똑같은 로직을 반복해서 여러줄 작성함
            // 유일하게 다른 부분은 0, 1, 2, 3 -> 반복문의 제어변수로 처리할 수 있겠당

            // 반복문 for문
            // while은 버림ㅋ
            /*
            for(let i = 0; i < array.length; i++) { // 초기식, const로는 안된다, 증가해야하니까 -> let으로
                area.innerHTML += `${array[i]} <br>`;
            }
            */
            // 지금은 우리가 배열에 값을 넣겠지만 SQL로 DB에서 가져올것은 몇개일지 모를테니 이런식으로 반복문 써서 몇개든 니알아서 출력해세요

            // for in문
            // 초기식 조건식 증감식 쓰기 귀찮은 너낌이 있음 어차피 배열 요소만큼 다 돌건뎅
            // 자바에서도 for(String s : list) 이런거 했으니까 자바스크립트에도 이런거 있겠지?
            // for(let i in 순차적으로 요소에 접근할 배열)
            /*
            for(let i in array) {

                // i가 뭔지 일단 출력해보자, 뭔지 알아야 반복시킴
                // console.log(i); 요소 개수만큼의 index가 들어온다!
                // 그럼 앞이랑 똑같이 쓰면 되겠다
                area.innerHTML += `${array[i]} <br>`;

                // 얘도 순서가 보장되는 배열이라 앞에서부터 순서대로 나온다
                // 비교해보니 앞에서 쓴것보다 훨씬 간결해짐

            }
            */

            // for of문
            // 아무튼 for 시리즈 3종(for loop, for in, for of) 중에 젤 많이 쓰고 젤 편한거
            /*
            for(let value of array) {

                // 이것도 value가 뭔지 출력해본다
                // console.log(value);
                // 배열이 가지고 있는 요소가 하나씩 들어있음
                // 그럼 index에 구애받지 않고 뽑힌 요소 자체를 바로 사용가능
                area.innerHTML += `${value} <br>`;

                // 배열의 요소 앞에서부터 차곡차곡 접근

            }
            */

            // for each문도 있는데 선생님이 안좋아해서 안하신다는건 농담이고 잘 안써서 안함

            console.log("----------이게맵이다----------");

            // 고급 함수
            // 세개 꼭 해야함

            // map의 인자로 익명함수를 넣어준다
            /*
            const mapArray = array.map(function(e) {

                // array는 배열, 배열에 있는 요소를 익명함수에 매개변수를 만들어서
                // map 함수가 순차적으로 돌면서 요소 하나하나에 접근하도록 한다
                console.log(e);
                // return e; // 나중에 map을 반환할 수 있는데, 반환하면 뭐가 반환되냐면, 배열이 반환됨
                // 요소들을 앞에서부터 차곡차곡 담은 배열이 반환됨

                return `${e}<br>`;
                // 이런 문자열들이 담긴 배열이 반환됨, 배열의 요소가 하나씩 담긴 배열이 새로 만들어진것

            });

            console.log(`map으로 반환받은 배열 : ${mapArray}`);
            // 보통 map을 이용해서 내가 원하는 형태로 요소들을 변환해서 그걸 담은 배열로 반환시킴

            // 지금 우리도 각 요소 뒤에 <br> 태그를 붙여서 받고싶으니까 return을 할 때 `${e}<br>`로 수정
            */

            // 여기에 join이라는 메소드를 붙일 수 있음
            /*
            const str = array
                .map(function(e) {
                    console.log(e);
                    return `${e}<br>`;
                })
                .join("");
                // join은 배열의 요소를 하나의 문자열로 합쳐주는 메소드
                // 콘솔에 하나의 문자열로 출력됨(,로 구분했던것들이 쭉 붙어버림)

            // console.log(`map으로 반환받은 문자열 : ${str}`);
            // 그럼 이 문자열로 한번에 넣어버릴 수 있음
            area.innerHTML = str;
            // 이렇게 하면 요소를 반복하면서 요소를 가공해서 하나의 문자열로 만들어서 이걸 area content 영역에 쏙, 결과는 똑같음
            */

            // 익명함수니까 function을 생략하고 화살표로 바꿀 수 있음
            // map 함수 안에서 전달받은 인자로 return하는것밖에 없음
            // return만 한다면 중괄호와 return문을 생략할 수 있음
            /*
            const str = array.map((e) => `${e}<br>`).join("");
            area.innerHTML = str;
            */
            // 이건 다시 이렇게 쓸 수 있다
            area.innerHTML = array.map((e) => `${e}<br>`).join("");
            // for문 없이도 이렇게 한줄로 끝낼 수 있음

            // ??? 영상 3:06:00 부터 정리

            // 객체는 반복의 방법이 for of문밖에 없음

            // JQuery가 커리큘럼에 포함되어있는데 요새 거의 안씀
            // 사용기간이 길었음 15년 해먹음, 그래서 안할수는 없음, 유지보수를 위해 습득은 해야함
            // 얘는 반복시킬 때 for each로 함

            // 아무튼 자바스크립트는 순수바닐라 or for each or map or filter 네가지 기억
            // 익명함수 사용 시 일반적으로 function() {} 이렇게 안쓰고 람다로 씀
            // 기능적 차이는 없고 쓸게 줄고 보기 좋다(?) 뿐
            /*
                function() {
                
                }
                ==========>
                () => {
                
                }
                --------------------------------------------------
                function(a) {

                }
                ===========>
                a => {
                
                }
                --------------------------------------------------
                function(a, b) {
                
                }
                ==========>
                (a, b) => {
                
                }
                --------------------------------------------------
                function() {
                    return a;
                }
                ==========>
                () => a
            */

            // 리액트가서는 람다 쓸거고 그전까지는 이것저것 섞어쓰자

        };

    </script>

    <hr />

    <h3>* 배열의 선언</h3>

    <p>
        빈 배열을 선언 할 때, 크기를 지정할 수 있음 <br />
    </p>

    <button onclick="defArray();">버튼</button>
    <div id="area2" class="area small"></div>

    <script>

        // ??? 17:21 얘도 호출이 아니라 다른방법이 있는데 굳이 안하심
        function defArray() {

            // 배열 리터럴을 대입해서 선언하는 방법
            const array1 = []; // 권장사항

            const array2 = new Array(3); // 크기가 3 <== 쓰지말자
            // 이렇게 쓰는 사람도 있음
            // 이것도 배열을 만드는(선언하는) 방법인데, 권장사항과는 어마어마한 차이가 있음
            // 비슷하게 보이는데 array2는 empty X 3이라고 되어있음
            // 만들때 3칸짜리이고 lengh가 3이고 요소가 존재하지않음, 이걸로 반복한다면 문제가 생길수도
            // 옛날 코드를 보다가 이런걸 발견할수도 있지

            console.log(array1);
            console.log(array2);

            // 배열에 요소 추가
            // 자바에서 하던방식 : index에 접근해서 대입
            array1[0] = "사과";
            array1[1] = "바나나";
            array1[2] = "당근";
            // 처음에 크기(length)가 0이었는데도 문제가 일어나지 않고 그냥 배열에 요소가 추가됨

            document.querySelector("#area2").innerHTML = array1;
            // ??? 배열을 출력하면(innerHTML에 대입하고 출력) 요소가 콤마로 구분되어 나열됨
            
        };

    </script>

    <hr />

    <h3>* 배열용 메소드</h3>

    <h4>
        1) indexOf(찾고자하는요소) : 배열에서 해당 요소가 위치한 인덱스 반환
    </h4>

    <div id="area3" class="area small"></div>
    <button onclick="holiday();">빨간날찾기</button>

    <script>

        function holiday() {

            const days = [
                            "추석",
                            "개천절",
                            "설날",
                            "크리스마스",
                            "부처님오신날",
                            "현충일",
                            "광복절",
                            "어린이날",
                            "삼일절",
                            "한글날"
                         ];

            // console.log(days.indexOf("블랙프라이데이"));
            // 없는거 찾으니까 -1 나온다

            // 💗빨간날 찾기 버튼을 클릭하면
            //   사용자에게 텍스트를 입력 받아서(window.prompt())

            // 사용자가 입력한 텍스트가 배열의 요소로 존재할 경우
            // id가 area3인 div요소의 Content영역에
            // XXX(사용자가 입력한 텍스트)은(는) 빨간날이 맞습니다.

            // 사용자가 입력한 텍스트가 배열의 요소로 존재하지 않을 경우
            // id가 area3인 div요소의 Content영역에
            // XXX(사용자가 입력한 텍스트)은(는) 빨간날이 아닙니다.

            // 라고 출력해주세요.

            // 입력받기
            const day = prompt("무슨 빨간날을 찾으시나요??");
            // console.log(day);
            // 입력받아오기는 잘한다

            // 배열에 있는지없는지 확인 1. for문 2. 비교

            // 배열에 includes 메소드가 있음
            // console.log(days.includes(day));

            // 배운거로 하려면? indexOf의 인자로 넣음
            // console.log(days.indexOf(day));
            // 요소로 존재한다 == index(0이상의 정수)
            // 요소로 존재하지 않는다 == -1
            const index = days.indexOf(day);

            // 그럼 -1일때랑 그게아닐때랑 다르게 하고싶으니까 if문? 안쓰고싶은디요 -> 삼항연산자
            const result = index != -1 ? "맞습니다" : "아닙니다";

            document.getElementById("area3").innerHTML = `${day}는 빨간날이 ${result}`;

            /*
            const input = prompt("빨간날인지아닌지?");
            for(let i = 0; i < days.length; i++) {
                if(days.indexOf[i] == input) {
                    document.getElementById("area3").innerHTML = `${input}은(는) 빨간날이 맞습니다.`;
                } else {
                    document.getElementById("area3").innerHTML = `${input}은(는) 빨간날이 맞습니다.`;
                }
            }
            */

        };

    </script>

</body>
</html>