<!DOCTYPE html>
<html lang="en">
<head>
    <title>이거 좀 어려울지도..?</title>

    <style>
        body {
            background-color: lightgreen;
            color: teal;
            font-weight: 800;
        }

        .area {
            width: 300px;
            height: 100px;
            background: greenyellow;
            margin: auto;
            /* overflow: scroll; */
            /* 컨텐트 벗어나도 스크롤로 늘어남 */
        }

        .small {
            height: 200px;
        }

        .big {
            height: 500px;
        }
    </style>
</head>
<body>

    <h1>브라우저 인터페이스</h1>
    <!-- 오랜만에 이해의 영역 😎 -->

    <!--
        브라우저 == 프로그램
        브라우저 개발사들이 만들어준다
        웹이라는 인프라를 이용하기 위한 클라이언트 프로그램
        롤 하고싶으면 롤 런처 켜듯이 웹을 이용하려면 브라우저로 웹을 이용할 수 있게 함
        제조사마다 다른 프로그램(구글크롬, 네이버웨일, 마소익스플로러, 모질라파폭, 애플사파리 등)
        실제로 브라우저 사용해서 결과를 보면 HTML, CSS가 조금씩 다름
        순수하게 HTML, CSS 쓰면 다 똑같이 나와야할텐데 구현하는 프로그램이 제조사마다 다르게 구현하니까 달라보임
        일반적으로는 JS로 브라우저를 조작할 수 있도록 인터페이스를 만들어서 제공함
        지금 JS언어를 이용해서 브라우저 프로그램을 조작하고있음, 스크립트 언어는 프로그렘을 조작하는 언어니까
        브라우저 제조사는 다 다르지만 맘대로 만들면 같은 언어로 제어하기 어려워짐 -> 인터페이스로 제작
        인터페이스 맞춰서 동작하도록, 모든 제조사의 인터페이스에 맞춰서 조작할 수 있도록 제작함
        JS언어로 브라우저 조작을 위한 인터페이스는 BOM, DOM 두가지가 있음
    -->

    <p>
        브라우저 상에서 자바스크립트라는 언어로 브라우저라는 프로그램을
        제어할 수 있도록 BOM과 DOM이라는 인터페이스가 제공됨 <br /><br />

        - BOM(Browser Object Model) : 브라우저 관련 <br />
        - DOM(Document Object Model) : HTML문서 관련 <br />
    </p>

    <!-- 우리가 실제로 다루는건 DOM(요소 조작), 은근히 BOM도 많이 다룬다(prompt나 alert의 경우) -->

    <hr />

    <!-- BOM에서 가장 많이 사용하는 객체는 window, 창에 대한, 창을 제어할 수 있는 인터페이스는 여기에 포함됨 -->

    <h3>window객체가 제공하는 메소드</h3>

    <!--
        window.alert();
        window.console.log();
        window.confirm();
        window.prompt();
        전부 브라우저상에서 뭔가 띄우는 기능을 했음, window 객체가 제공했던것이다..!
    -->

    <h4>window.open()</h4>

    <a href="http://www.naver.com" target="_blank">오픈~</a>

    <button onclick="openFn();">옛날옛적 호랑이 담배피던 시절</button>

    <script>
        function openFn() {

            // window.open();

            // window.open("http://www.naver.com");
            // 이렇게만 쓰면 새 탭에 열린다

            window.open("http://www.naver.com", "하하", "width=400, height=500");
            // 옛날에는 이렇게 씀, 팝업윈도우
            // 요새는 이런 사이트가 별로 없는듯..? 아 팝업 허용하면 뜨는 팝업창이 있군요
            // 주로 팝업의 용도는 광고, 하고 있는 콘텐츠 홍보 목적
            // 사람들이 팝업을 불편해하고, PC환경이면 상관없는데, 초창기 스마트폰 시절에는 모바일 환경에서 작업하지않고
            // PC화면을 브라우저에서 똑같이 띄워버림(모바일용 화면 개념이 없었음)
            // 작은 화면에서 팝업을 처단해버리기 힘들어서 싫어함
            // 그래서 팝업윈도우 자체를 사용자가 허용하지 않으면 차단하도록 브라우저에서 기본값을 제공함
            // 악의적으로 피싱유도로 사용되기도 하니까 웬만하면 막아놓는편
            // 사이트들이 모달이란것으로 팝업을 대체함
            // div 요소를 만들어서 z-index로 띄우는 것, back은 투명으로 날려버리는 형태
            // 요새 모달도 싫어하긴 해 7일간 안보기로 처단하고싶지않음 그냥 싫음

        }
    </script>

    <hr />

    <h4>* window.setTimeout(함수, ms)</h4>

    <button onclick="timeout();">나는 버튼이다.</button>

    <script>
        function timeout() {

            // alert("안녕?");

            // 그냥 띄우는게 아니라 장난치고싶다 괴롭히고싶다
            // 버튼을 누르면 5초뒤에 alert이 뜨게 만들고싶음
            /*
            window.setTimeout(() => {
                alert("나는 사실 5초 뒤에 뜸");
            }, 5000);
            */
            // 첫번째 인자로 익명함수, 두번째 인자로 시간(ms단위)

            // 스까보기
            // 옛날에는 이런거 많이 함, 나쁜거 광고하려고
            const newWindow = open(); // 창이 새로 열리고 : 새창 window객체
            // 얘는 반환값이 있음, 열린 window 객체를 반환함
            newWindow.alert("이 버튼을 누르면 3초 뒤 창이 닫힙니다.");

            setTimeout(() => {
                newWindow.close();
            }, 3000);

            // 이런 장난치는거 말고 뭔가 한번만 수행시키고 싶을 때 사용할 수 있음
            // 내가 지정한 일정 시간 후 에 "딱 한번"만 핸들러를 수행

        }
    </script>

    <hr />

    <h4>window.setInterval(함수, ms)</h4>

    <button onclick="timer();">째깍째깍</button>

    <div id="area1" class="area"></div>

    <script>
        function timer() {

            const area = document.getElementById("area1");
            const value = "ㅋ";
            let count = 10;

            // if you're going to San Fransisco

            window.setInterval(() => {
                // area.innerHTML += value;
                // area.innerHTML = count--; 카운트다운 만들기도 가능!

                // 9번 객체_part02.html 파일을 참고하여
                // 시계 만들기

                // 화면에
                // 11:02:30 오전
                // 요렇게 매 초마다 바뀌게 출력하게 만들기 시~~~~~~~~~~작!

                const date = new Date();
                // area.innerHTML = date; 이렇게만 하면 필요없는 데이터까지 나온다
                // 9번 파일에서 필요한 값 뽑아오는 법 했음
                let hour = date.getHours();
                let min = date.getMinutes();
                let sec = date.getSeconds();
                let ap = "";
                // 값이 바뀌어야하니까 const로 쓸수는 없음, let으로 해야함

                // 한자리수 앞에 0을 붙여서 항상 두자리로 표시하게 하고싶은데? -> 조건
                if(min < 10) {
                    min = "0" + min;
                };

                if(sec < 10) {

                    // 정순데 0 붙이는거 의미없음, 문자열로 붙여야함
                    sec = "0" + sec;

                };

                // 오전/오후 표시 -> 이것도 조건, 변수가 하나 있어야겠다 -> let ap 선언
                if(hour > 12) {

                    // 24시간 표기니까 예쁘게 바꿔줌
                    hour -= 12;
                    ap = "오후";

                } else {
                    ap = "오전";
                };

                area.innerHTML = `${hour}:${min}:${sec} ${ap}`;

                // 실습해본거
                /*
                const clock = new Date();

                area.innerHTML = `${clock.getHours()}
                                 :${clock.getMinutes()}
                                 :${clock.getSeconds()} <br>`;
                */

            }, 1000);

            // 브라우저상에서도 제어할 수 있는 인터페이스인 BOM을 제공해주기때문에 이런 시계만들기 가능

            // setInterval : 내가 지정한 간격마다 "매 번" 핸들러를 수행

        }
    </script>

    <hr />

    <h3>* BOM(Browser Object Model)</h3>
    <!--
        window가 제일 중요한 객체였고
        나머지 이런것들은 우리보단 프론트개발자가 많이 쓰겠지만 그래도 알아두자, location이 좀더 중요
    -->

    <p>
        location, screen, navigator
    </p>

    <h4>location 객체</h4>

    <button onclick="console.log(location);">로케-이션 확인!!!!!</button>
    <!--
        브라우저상의 주소입력창과 관련있는 친구, 주소입력창 담당, 현재 인터넷 환경에서의 나의 위치(location)
        href 속성에 위치가 들어있음(현재 URL)
        브라우저는 웹서버에 요청을 보내기 위해서 주소입력창에 URL을 입력해서 보내는데 그걸 담당하고 제어할수있는게 location
        아무튼 href 속성이 중요(hyper reference, a태그에서 봤음)
    -->
    <a href="http://www.naver.com">하이빠레빠란스~~</a>
    <!-- a태그의 href는 location 객체의 href 속성을 바꾸는, 주소입력창의 value값을 바꾸는 녀석이었군!, onclick 이벤트가 자체적으로 달려있겠군 -->
    <!-- a태그는 애초에 클릭 시 요청할 URL을 작성할 수 있는 속성을 제공 -->

    <p>
        브라우저의 주소입력창 => URL(href속성값) 제어할 수 있음
    </p>

    <button onclick="loc()">매커니즘~</button>

    <script>
        function loc() {

            // location 객체의 href 속성에 새로운 값을 대입
            location.href = "http://www.naver.com";

        }

        // 이거 꽤 중요하다!
        // Web 통신은 일반적으로 Client-Server 모델로 만들어지고 구현되어있음
        // 브라우저라는 프로그램은 클라이언트에서 웹통신을 하기 위해 사용하는 프로그램을 웹 브라우저라고 함
        // 클라이언트가 서버와 통신하기 위해서 거쳐야하는 절차는?
        // 웹브라우저는 클라이언트와 서버가 통신을 하기 위한 프로그램!
        // 제일 우선순위는? 자바때 했던 소켓 프로그래밍 생각 -> 서버가 요청받을 수 있도록 돌아가고 있어야함(제일 먼저 선행되어야 할 조건)
        // 서버는 리스너를 열어둬야함, 소켓 열어서 클라이언트의 요청 기다리고 있는것(리스너로 기다리고 있을 것)
        // 아무튼 1번이 서버대기
        // 2번이 클라이언트가 서버에게 요청을 보내기 위해서 자기 프로그램을 실행해야함(서버에 요청을 보낼 수 있는 프로그램을 프로세스에 올려야함)
        // 웹은 그게 브라우저, 우리는 항상 웹 서버에게 요청을 보내고 있는 상황
        // 2. 클라이언트도 지꺼 켰다!
        // 3번은? 클라이언트는 서버에게 요청을 보내야하는데 뭐가 필요? 1번 IP주소, 2번 Port Number 두개
        // port는 브라우저가 붙여줌, 웹브라우저는 웹을 이용하기 위한 프로그램이니까 웹 서버 포트로 지가 알아서 붙여줌
        // 그래서 사람들은 포트번호를 생각하지 않고 사용할 수 있음 , http 80 또는 https 443
        // 아무튼 ip는 있어야겠군요, 지구상 모든 웹서버 ip주소를 사람들이 외울 수 없으니 URL로 대체
        // URL의 구성요소는 스키마 + 호스트네임 + 도메인네임 + 로케이션
        // 브라우저에서 응답을 받으려면 URL로 요청을 보냄
        // http://127.0.0.1:5501/03_JavaScript/10_window객체.html
        // URL을 자세히 보면? 제일 앞에 ip, 루프백아이피, 내가 작업하고 있는 로컬 PC 아이피
        // 그리고 포트번호 -> 여기까지 요청 받아주는 웹서버 프로세스까지 가는거
        // 우린 돌린건 아니고 vscode에서 돌리고 있음 -> 라이브 서버 플러그인 설치했잖아여? 그거 설치하는 순간 개발용 로컬 서버를 계속 돌려버림
        // 각자 컴퓨터에서 웹서버가 돌아가고 있는 상태
        // 그러니까 내 컴퓨터에서 돌고있는 URL+port
        // 근데 내 컴퓨터에 파일 많겠죠? 그안에 자원이 많은데 뭘 요청하는건지 그다음에 표현되어있음
        // 파일을 브라우저에 보내면 렌더링 작업을 통해서 화면에 보여줌
        // https가 포트번호를 대체함
        // :// <- 이건 만든 사람이 의미없고 겉멋부리려고 만들었다고 인터뷰했다네요 얼마전에(이제와서생각하면넣지말걸이랬다네요)
        // 그다음 naver.com은 도메인, 돈주고 사는거
        // www는 호스트이름, 도메인에 도달해도 컴퓨터가 많겠지, 역할이 다른 서버들
        // 웹서버의 역할을 하는 친구인 서버 이름은 www로 짓자 해서(아주오래옛날부터관례), 사실 의미는 없음,, 안붙여도됨
        // 아무튼 요청보내면 데이터가오고 브라우저가 화면만들어주는게 웹통신
        // 요청을 보낼 때 쓰는게 URL이니까 location 객체는 이거랑 관련되어 있으니 꽤 중요할지도

    </script>

    <!-- 새로고침 -->

    <button onclick="location.reload();">새로고쳐랏</button>
    <!--
        새로고침이란 뭘까...? 통신에 대해 생각하다 보면 이런거 생각하면 좋음
        새로고침은 이 페이지의 내용을 갱신하는 것, 웹에서 이 페이지의 내용을 갱신하기 위해서는
        방법이 요청을 다시 보내는것밖에 없음, 똑같은 URL로 요청을 보내야 똑같은 데이터를 받을 수 있음
    -->

    <!-- href속성에 현재 href 속성값을 다시 대입하는 것, 그래서 다시 똑같은 주소로 요청을 보내는 것 -->
    <button onclick="location.href=location.href">새로고침</button>

    <!-- href 속성의 값을 바꿀 때 일반적으로 대입연산자 쓸수도있고 힙스터처럼 메소드 쓸수도 있음
    알아둘점은? 특정 페이지에서 뒤로가기가 안되고 막힘
    뒤로가기 원리는 현재 지금 돌아가고 있는 사이트들의 URL을 저장해놓는것, 저장해놓거나 캐싱을 해서 데이터를 그대로 보관 -->

    <!-- 
        assign(), replace()
        replace == (이걸로 새로운 URL을 넣으면)뒤로가기를 사용할 수 없음
    -->

    <!-- 아무튼 location은 많이 사용할텐데 href 속성만 기억 -->

    <h5>screen객체</h5>
    <button onclick="console.log(screen);">스크린</button>
    <!-- 사용자가 보고있는 화면에 대한 정보 -->

    <h5>navigator</h5>
    <button onclick="console.log(navigator);">나비</button>
    <!-- 브라우저에 대한 정보 -->
    <!-- 옛날에 브라우저끼리 호환성 고려할때 쓰던거, 지금은 앱개발도 한다면 신경쓰고, 웹개발만 한다면 굳이 ㄴㄴ -->

    <hr />

    <h2>* DOM(Document Object Model)</h2>
    <!-- 나중에 리액트 하려면 DOM 원리로 동작하기 때문에 원리공부 -->

    <p>
        원리 공부하기 <br />
        - 요소 노드(Element Node) : 태그 자체를 의미 <br />
        - 텍스트 노드(Text Node) : 태그 내에 기록되는 내용을 의미 <br />

        텍스트노드가 존재하지 않는 요소(빈태그, content 영역 없음) : input, img, br, hr... <br />
        텍스트노드가 있는 요소 : div, button, span, label...
    </p>

    <div id="area3" class="area small"></div>
    <button onclick="addElement()">빠른</button>
    <!-- onclick안에 여러개 함수 호출할 수 있음, 세미콜론으로 구분, 하나만 넣을때는 잘 안적음 -->

    <script>
        function addElement() {

            // 동적으로 요소를 만들자
            // 처음 문서 로딩할 때는 존재하지 않다가
            // 나중에 만들어지는 요소 == 동적인 요소(없었는데있었습니다)

            // 컨트롤러에서 응답받은 문자열 => user01
            // 처음 HTML에는 없고 컨트롤러 갔다와야 생기니까 나중에 요소를 만들어줘야함
            /*
                <h3>user01</h3> 이렇게 만들고 화면에 보여주고싶다면?
                일단 변수로 받아
            */
            const userId = "user01";

            // 1. 문자열로 만드는 방법
            // document.getElementById("area3").innerHTML = `<h3>${userId}</h3>`;
            // React는 이런식으로 동작하지 않음

            // 2. document객체가 제공하는 메소드를 통해 "요소객체"를 만들기
            // element node부터 만들어야함 -> 메소드를 통해서 인자값으로 만들고싶은 요소의 태그명을 전달
            // 2_1) elementNode만들기 : document.createElement('태그명');
            const elementNode = document.createElement("h3");

            // 요소객체 만든거 출력해보기
            console.log(elementNode);

            // 리액트는 실제로 이런식으로 동작하지는 않고 가상 돔으로 동작, 문자열도 아니고
            // 우리가 나중에 배우게 될 React는 가상 DOM이라는 개념을 사용함
            
            // 2_2) textNode만들기 : document.createTextNode('텍스트');
            const textNode = document.createTextNode(userId);
            console.log(textNode);
            
            // 3. 두 개의 노드를 연결
            // elementNode의 자식으로 textNode를 추가해야함
            // a의 자식으로 b를 추가
            // a.appendChild(b);
            elementNode.appendChild(textNode);
            console.log(elementNode);
            // document.querySelector("#area3").innerHTML = elementNode; 이건안됨
            // -> [object HTMLHeadingElement]
            // elementNode의 정체는 객체, innerHTML로 출력하면 객체이기 때문에 toString이 나옴
            // 아 toString 싫어잉 쟤 찍고싶어
            document.querySelector("#area3").appendChild(elementNode);

            // 이까지는 컨텐트 있는애들이고, 만약에 없는 애들을 만들어야한다면?
            // 텍스트 노드가 없는 요소

            // img src="머시기"
            const img = document.createElement("img");
            //    ↑ 이거객체임
            // 객체에 src 속성이 필요한데? 그럼 어케하냐고여

            // 어캄??
            // 객체에 속성을 추가하는 방법은 ?
            // 객체명.속성명 = 값
            img.src = "https://s.pstatic.net/shopping.phinf/20250916_8/47eb5155-10a0-48b7-ad13-74497886cfaf.jpg?type=f294_378";

            document.getElementById("area3").appendChild(img);
            // 이미지한테는 텍스트 노드가 중요한게 아니고 src 경로가 있어야한단말이여? 어떻게 이미지 경로 넣어줌?

        }
    </script>

</body>
</html>